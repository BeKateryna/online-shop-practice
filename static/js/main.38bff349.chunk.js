(this.webpackJsonpfirstwork=this.webpackJsonpfirstwork||[]).push([[0],{70:function(e,t,a){e.exports=a.p+"static/media/star-1.afce843d.svg"},71:function(e,t,a){e.exports=a.p+"static/media/star-2.ca05b033.svg"},77:function(e,t,a){e.exports=a(98)},82:function(e,t,a){},83:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(52),o=a.n(c),l=(a(82),a(33)),s=(a(83),function(){return n.a.createElement("ul",{className:"nav__menu"},n.a.createElement("li",{className:"nav__item"},n.a.createElement(l.b,{activeClassName:"active",to:"/MainPage"},"All Products")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(l.b,{to:"/favorites"},"Favorites")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(l.b,{activeClassName:"active",to:"/basket"},"Your Basket")))}),i=(a(88),function(){return n.a.createElement("div",{className:"header"},n.a.createElement(s,null))}),m=a(4),u=(a(89),a(70)),d=a.n(u),f=a(71),E=a.n(f),p=(a(90),a(5)),b=function(){return function(e){fetch("./items.json").then((function(e){return e.json()})).then((function(t){return e({type:"GET_ITEMS",payload:t})})).catch((function(t){e({type:"GET_ITEMS_ERROR",error:t})}))}},v=function(e){var t=e.text,a=e.backgroundColor,r=e.modal,c=e.id,o=e.className,l={backgroundColor:a},s=Object(p.c)();return n.a.createElement("button",{"data-testid":"ok-btn",onClick:function(e){console.log(r.isActive),"buttons__btn_remove"!==e.target.className||r.isActive||(r.type="close-modal",s((function(e){e({type:"OPEN_MODAL"})})),s(function(e){return function(t){t({type:"REMOVE_FROM_BASKET",payload:e}),localStorage.removeItem("basket-".concat(e))}}(c))),r.isActive&&s((function(e){e({type:"CLOSE_MODAL"})})),r.isActive||"buttons__btn"!==e.target.className||(r.type="modal-success",s((function(e){e({type:"OPEN_MODAL"})})),s(function(e){return function(t){t({type:"ADD_TO_BASKET",payload:e}),localStorage.setItem("basket-".concat(e),!0)}}(c)))},className:"buttons__btn"+o,style:l},t)};v.defaultProps={backgroundColor:"transparent",id:"",className:""};var _=Object(p.b)((function(e){return{modal:e.modal}}))(v),h=(a(91),function(e){var t=e.header,a=e.body,r=e.closeBtn,c=e.actions,o=e.type,l=e.closeFn;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:o},n.a.createElement("div",{className:o+"__header"},n.a.createElement("h2",{className:o+"__header__title","data-testid":"header"},t),r&&n.a.createElement(_,{className:" close-btn",text:"x"})),n.a.createElement("div",{className:o+"__text"},n.a.createElement("p",null,a)),n.a.createElement("div",{className:o+"__footer"},c)),n.a.createElement("div",{className:"shadow",onClick:function(){return l()}}))});h.defaultProps={header:"",closeBtn:!1,body:"",actions:[],type:""};var O=Object(p.b)((function(e){return{closeFn:function(){return e((function(e){e({type:"CLOSE_MODAL"})}))}}}))(h),y=function(e){var t=e.product,a=e.modal,r=e.add,c=e.remove;return n.a.createElement("div",null,n.a.createElement("div",{className:"card__body"},n.a.createElement("div",{className:"card__header"},n.a.createElement("h2",{className:"card__title"},t.name)),n.a.createElement("div",null,"Color : ",t.color),n.a.createElement("div",null,"Article: ",t.article),n.a.createElement("a",{className:"card__pic",href:"/"},n.a.createElement("img",{src:t.url,alt:"product"})),n.a.createElement("div",{className:"card__info"},n.a.createElement("div",{className:"card__price"},t.price," \u0433\u0440\u043d"),!localStorage.getItem("favorites-".concat(t.article))&&n.a.createElement("div",{onClick:function(){return r(t.article)}},"Add to Favorite",n.a.createElement("img",{className:"card__star",src:d.a,alt:"star"})),localStorage.getItem("favorites-".concat(t.article))&&n.a.createElement("div",{onClick:function(){return c(t.article)}},"Remove to Favorite",n.a.createElement("img",{className:"card__star",src:E.a,alt:"star"}))),n.a.createElement("div",null,localStorage.getItem("basket-".concat(t.article))?n.a.createElement(_,{text:"Remove",backgroundColor:"black",id:t.article,className:"_remove"}):n.a.createElement(_,{text:"Add to card",backgroundColor:"black",id:t.article}))),a.isActive&&"modal-success"===a.type&&n.a.createElement(O,{header:"Congratulations!",body:"This bottle was added to your basket.",actions:[n.a.createElement(_,{key:0,text:"OK",backgroundColor:"green"})],closeBtn:!0,type:a.type}),a.isActive&&"close-modal"===a.type&&n.a.createElement(O,{header:"Removed",body:"This bottle has been removed from your basket !",actions:[n.a.createElement(_,{key:1,text:"OK",backgroundColor:"red"})],closeBtn:!0,type:a.type}))};y.defaultProps={products:[]};var g=Object(p.b)((function(e){return{modal:e.modal}}),(function(e){return{add:function(t){return e(function(e){return function(t){t({type:"ADD_FAVORITES",payload:e}),localStorage.setItem("favorites-".concat(e),!0)}}(t))},remove:function(t){return e(function(e){return function(t){t({type:"REMOVE_FROM_FAVORITES",payload:e}),localStorage.removeItem("favorites-".concat(e))}}(t))}}}))(y),N=(a(92),function(e){var t=e.products,a=void 0===t?[]:t,r=e.basketProducts,c=void 0===r?[]:r,o=e.favoritesProduct,l=void 0===o?[]:o;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"card__all"},c&&c.map((function(e){return n.a.createElement(g,{product:e,key:e.article})})),l&&l.map((function(e){return n.a.createElement(g,{product:e,key:e.article})})),c.length<1&&l.length<1&&a.map((function(e){return n.a.createElement(g,{product:e,key:e.article})})))))});N.defaultProps={products:[],favoritesProduct:[],basketProducts:[]};var k=Object(p.b)((function(e){return{products:e.items.data}}))(N),S=(a(93),a(94),function(){return n.a.createElement("span",{className:"empty_info"},"No items have been added...(")}),j=function(e){var t=e.products.filter((function(e){return localStorage.getItem("favorites-".concat(e.article))}));return n.a.createElement("div",null,n.a.createElement("h2",{className:"title"},"Favorites"),t.length>0&&n.a.createElement(k,{favoritesProduct:t}),t.length<1&&n.a.createElement(S,null))};j.defaultProps={products:[]};var A=Object(p.b)((function(e){return{products:e.items.data}}))(j),T=(a(95),a(96),a(15)),I=a(36),P=/^[a-z ,.'-]+$/i,x=I.b().shape({firstname:I.c().required("This field is required").matches(P,"First name is invalid").max(15,"First name must be shorter then 15 symbols"),lastname:I.c().required("This field is required").matches(P,"Last name is invalid").max(15,"Last name must be shorter then 15 symbols"),age:I.a().min(18,"You must be over 18 years old").max(100,"Please enter a correct age").required("This field is required"),address:I.c().required("This field is required"),phone:I.c().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").required("This field is required")}),F=Object(p.b)()((function(e){var t=e.products,a=e.dispatch;console.log(e);var r=0;return t.forEach((function(e){return r+=+e.price})),n.a.createElement(T.d,{initialValues:{firstname:"",lastname:"",age:"",address:"",phone:""},validationSchema:x,onSubmit:function(e,r){r.props;var n=r.setSubmitting;console.log(e,t);var c,o=t.map((function(e){return e.article}));a((c=o,function(e){c.forEach((function(e){return localStorage.removeItem("basket-".concat(e))})),e(b())})),n(!1),a((function(e){e({type:"OPEN_MODAL"})}))}},(function(e){return n.a.createElement(T.c,{onSubmit:e.handleSubmit,className:"order-form",noValidate:!0},n.a.createElement(T.b,{component:"input",className:"order-form",type:"text",name:"firstname",placeholder:"Your first name",required:!0}),n.a.createElement("span",{className:"error"},n.a.createElement(T.a,{name:"firstname"})),n.a.createElement(T.b,{component:"input",className:"order-form",type:"text",name:"lastname",placeholder:"Your last name",required:!0}),n.a.createElement("span",{className:"error"},n.a.createElement(T.a,{name:"lastname"})),n.a.createElement(T.b,{component:"input",className:"order-form",type:"text",name:"age",placeholder:"Your age",required:!0}),n.a.createElement("span",{className:"error"},n.a.createElement(T.a,{name:"age"})),n.a.createElement(T.b,{component:"input",className:"order-form",type:"text",name:"address",placeholder:"Delivery address",required:!0}),n.a.createElement("span",{className:"error"},n.a.createElement(T.a,{name:"address"})),n.a.createElement(T.b,{component:"input",className:"order-form",type:"number",name:"phone",placeholder:"Phone number",required:!0}),n.a.createElement("span",{className:"error"},n.a.createElement(T.a,{name:"phone"})),n.a.createElement("span",{className:"item-info"},"Amount: ",t.length," bottle(s)"),n.a.createElement("span",{className:"item-info"},"Total: ",r," \u0433\u0440\u043d"),n.a.createElement("button",{className:"btn__checkout",type:"submit",disabled:e.isSubmitting},"Checkout"))}))})),C=function(e){var t=e.products,a=e.modal,r=t.filter((function(e){return localStorage.getItem("basket-".concat(e.article))}));return n.a.createElement("div",{className:"basket__container"},n.a.createElement("div",null,n.a.createElement("h2",{className:"title"},"Basket"),r.length<1&&n.a.createElement(S,null),r.length>0&&n.a.createElement(k,{basketProducts:r})),r.length>0&&n.a.createElement("div",{className:"form__container"},n.a.createElement("h2",null,"***Fill the Order Form***"),n.a.createElement(F,{products:r})),a.isActive&&"modal-success"===a.type&&n.a.createElement(O,{title:"Success",body:"Your order is confirmed! Please, wait for manager call.",actions:[n.a.createElement(_,{key:0,text:"OK",backgroundColor:"#00000030"})],closeBtn:!0,type:a.type}),a.isActive&&"modal-success"===a.type&&n.a.createElement(O,{title:"Success",body:"Your order is confirmed! Please, wait for manager call.",actions:[n.a.createElement(_,{key:0,text:"OK",backgroundColor:"#00000030"})],closeBtn:!0,type:a.type}),a.isActive&&"close-modal"===a.type&&n.a.createElement(O,{header:"Removed",body:"This bottle has been removed from your basket !",actions:[n.a.createElement(_,{key:1,text:"OK",backgroundColor:"red"})],closeBtn:!0,type:a.type}))};C.defaultProps={products:[]};var M=Object(p.b)((function(e){return{products:e.items.data,modal:e.modal}}))(C),R=(a(97),Object(p.b)((function(e){return e.title}))((function(e){var t=e.title;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",{className:"header__title"},t),n.a.createElement(k,null))}))),w=function(){return n.a.createElement(m.d,null,n.a.createElement(m.b,{exact:!0,path:"/",render:function(){return n.a.createElement(m.a,{to:"/MainPage"})}}),n.a.createElement(m.b,{exact:!0,path:"/favorites",render:function(){return n.a.createElement(A,null)}}),n.a.createElement(m.b,{exact:!0,path:"/basket",render:function(){return n.a.createElement(M,null)}}),n.a.createElement(m.b,{exact:!0,path:"/MainPage",render:function(){return n.a.createElement(R,null)}}))},D=Object(p.b)(null,(function(e){return{getItems:function(){return e(b())}}}))((function(e){var t=e.getItems;return Object(r.useEffect)((function(){t()}),[t]),n.a.createElement(n.a.Fragment,null,n.a.createElement(i,null),n.a.createElement(w,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(30),L=a(2);var q={isActive:!1};var V=Object(B.c)({modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return Object(L.a)(Object(L.a)({},e),{},{isActive:!0});case"CLOSE_MODAL":return Object(L.a)(Object(L.a)({},e),{},{isActive:!1});default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return Object(L.a)(Object(L.a)({},e),{},{data:t.payload});case"ADD_FAVORITES":return localStorage.setItem("favorites-".concat(t.payload),"true"),Object(L.a)(Object(L.a)({},e),{},{data:e.data.map((function(e){return e.article===t.payload?Object(L.a)(Object(L.a)({},e),{},{inFavorites:!0}):e}))});case"REMOVE_FROM_FAVORITES":return localStorage.removeItem("favorites-".concat(t.payload)),Object(L.a)(Object(L.a)({},e),{},{data:e.data.map((function(e){return e.article===t.payload?Object(L.a)(Object(L.a)({},e),{},{inFavorites:!1}):e}))});case"ADD_TO_BASKET":return localStorage.setItem("basket-".concat(t.payload),"true"),Object(L.a)(Object(L.a)({},e),{},{data:e.data.map((function(e){return e.article===t.payload?Object(L.a)(Object(L.a)({},e),{},{inBasket:!0}):e}))});case"REMOVE_FROM_BASKET":return localStorage.removeItem("basket-".concat(t.payload)),Object(L.a)(Object(L.a)({},e),{},{data:e.data.map((function(e){return e.article===t.payload?Object(L.a)(Object(L.a)({},e),{},{inBasket:!1}):e}))});case"DELETE_FROM_LOCAL":return Object(L.a)({},e);default:return e}},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{title:"Our Products"};return e}}),K=a(76),Y=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},X=Object(B.e)(V,Object(B.d)(Object(B.a)(K.a),Y));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p.a,{store:X},n.a.createElement(l.a,null,n.a.createElement(D,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.38bff349.chunk.js.map